---

- name: Make directory
  file:
    path: ~/project
    state: directory
  register: directory_out

- name: Print Env Vars
  shell: |
    printenv
    printenv >> ~/project/.env
    cat ~/project/.env
  register: env_result


- name: Copy files
  unarchive:
    src: ~/project/artifact.tar.gz
    dest: ~/project

- name: List files in directory
  shell: |
    pwd
    ls
    cd ~/project
    pwd
  args:
    executable: /bin/bash
  register: shell_result

- name: Show results
  debug:
    msg: "{{ shell_result.stdout_lines }}"

- name: Directory result
  debug:
    msg: "{{ directory_out.stout_lines }}"

- name: Environment result
  debug:
    msg: "{{ env_result.stout_lines }}"


